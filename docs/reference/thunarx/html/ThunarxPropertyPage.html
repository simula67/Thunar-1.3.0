<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ThunarxPropertyPage</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Thunar Extensions Reference Manual">
<link rel="up" href="thunarx-abstraction-layer.html" title="Part IV. Abstraction Layer">
<link rel="prev" href="ThunarxFileInfo.html" title="ThunarxFileInfo">
<link rel="next" href="ThunarxProviderPlugin.html" title="ThunarxProviderPlugin">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="ThunarxFileInfo.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="thunarx-abstraction-layer.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Thunar Extensions Reference Manual</th>
<td><a accesskey="n" href="ThunarxProviderPlugin.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#ThunarxPropertyPage.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#ThunarxPropertyPage.description" class="shortcut">Description</a>
                   | 
                  <a href="#ThunarxPropertyPage.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#ThunarxPropertyPage.implemented-interfaces" class="shortcut">Implemented Interfaces</a>
                   | 
                  <a href="#ThunarxPropertyPage.properties" class="shortcut">Properties</a>
</td></tr>
</table>
<div class="refentry" title="ThunarxPropertyPage">
<a name="ThunarxPropertyPage"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="ThunarxPropertyPage.top_of_page"></a>ThunarxPropertyPage</span></h2>
<p>ThunarxPropertyPage — The base class for pages added to the properties dialog</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1" title="Stability Level">
<a name="ThunarxPropertyPage.stability-level"></a><h2>Stability Level</h2>
Stable, unless otherwise indicated
</div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="ThunarxPropertyPage.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;thunarx/thunarx.h&gt;

                    <a class="link" href="ThunarxPropertyPage.html#ThunarxPropertyPage-struct" title="ThunarxPropertyPage">ThunarxPropertyPage</a>;
<a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *         <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-new" title="thunarx_property_page_new ()">thunarx_property_page_new</a>           (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *label</code></em>);
<a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *         <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-new-with-label-widget" title="thunarx_property_page_new_with_label_widget ()">thunarx_property_page_new_with_label_widget</a>
                                                        (<em class="parameter"><code><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a> *label_widget</code></em>);
const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-get-label" title="thunarx_property_page_get_label ()">thunarx_property_page_get_label</a>     (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-set-label" title="thunarx_property_page_set_label ()">thunarx_property_page_set_label</a>     (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *label</code></em>);
<a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *         <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-get-label-widget" title="thunarx_property_page_get_label_widget ()">thunarx_property_page_get_label_widget</a>
                                                        (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-set-label-widget" title="thunarx_property_page_set_label_widget ()">thunarx_property_page_set_label_widget</a>
                                                        (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a> *label_widget</code></em>);
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="ThunarxPropertyPage.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  <a href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject">GObject</a>
   +----<a href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GInitiallyUnowned">GInitiallyUnowned</a>
         +----<a href="http://library.gnome.org/devel/gtk/unstable/GtkObject.html">GtkObject</a>
               +----<a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html">GtkWidget</a>
                     +----<a href="http://library.gnome.org/devel/gtk/unstable/GtkContainer.html">GtkContainer</a>
                           +----<a href="http://library.gnome.org/devel/gtk/unstable/GtkBin.html">GtkBin</a>
                                 +----ThunarxPropertyPage
</pre>
</div>
<div class="refsect1" title="Implemented Interfaces">
<a name="ThunarxPropertyPage.implemented-interfaces"></a><h2>Implemented Interfaces</h2>
<p>
ThunarxPropertyPage implements
 AtkImplementorIface and  <a href="http://library.gnome.org/devel/gtk/unstable/GtkBuildable.html">GtkBuildable</a>.</p>
</div>
<div class="refsect1" title="Properties">
<a name="ThunarxPropertyPage.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="ThunarxPropertyPage.html#ThunarxPropertyPage--label" title='The "label" property'>label</a>"                    <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>*                : Read / Write
  "<a class="link" href="ThunarxPropertyPage.html#ThunarxPropertyPage--label-widget" title='The "label-widget" property'>label-widget</a>"             <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a>*            : Read / Write
</pre>
</div>
<div class="refsect1" title="Description">
<a name="ThunarxPropertyPage.description"></a><h2>Description</h2>
<p>
  The class for pages that can be added to Thunar's file properties dialog
  by extensions implementing the <a class="link" href="ThunarxPropertyPageProvider.html" title="ThunarxPropertyPageProvider"><span class="type">ThunarxPropertyPageProvider</span></a> interface. The
  pages returned by extensions from <a class="link" href="ThunarxPropertyPageProvider.html#thunarx-property-page-provider-get-pages" title="thunarx_property_page_provider_get_pages ()"><code class="function">thunarx_property_page_provider_get_pages()</code></a>
  method are instances of this class or a derived class. Note that extensions
  do not need to subclass <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>, but may also instantiate it
  directly and add widgets to it, but I strongly suggest to create a subclass
  as it usually leads to better modularization and thereby better maintainability
  in the code.
</p>
<p>
  To pick up the <span class="type">TagPage</span> example from the <a class="link" href="ThunarxPropertyPageProvider.html#thunarx-property-page-provider-get-pages" title="thunarx_property_page_provider_get_pages ()"><code class="function">thunarx_property_page_provider_get_pages()</code></a>
  description again, you'd create a new class <span class="type">TagPage</span>, that inherits <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>
  (using the <a class="link" href="ThunarxProviderPlugin.html#THUNARX-DEFINE-TYPE:CAPS" title="THUNARX_DEFINE_TYPE()"><span class="type">THUNARX_DEFINE_TYPE</span></a> macro), which provides several user interface elements
  in the property, and defines atleast one property named <code class="literal">"file"</code>, which
  is the <a class="link" href="ThunarxFileInfo.html" title="ThunarxFileInfo"><span class="type">ThunarxFileInfo</span></a> whose tags are displayed in the property page. For example, the
  <code class="filename">tag-page.h</code> header file would look like this (this is really just
  an example of the suggested way to implement property pages, you may of course choose
  a different way):
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#</span><span class="normal">#ifndef __TAG_PAGE_H__</span>
<span class="preproc">#</span><span class="normal">#define __TAG_PAGE_H__</span>
<span class="preproc">#</span><span class="normal">#include </span><span class="symbol">&lt;</span><span class="normal">thunarx</span><span class="symbol">/</span><span class="normal">thunarx</span><span class="symbol">.</span><span class="normal">h</span><span class="symbol">&gt;</span>
<span class="normal"><a href="http://library.gnome.org/devel/glib/unstable/glib-Miscellaneous-Macros.html#G-BEGIN-DECLS:CAPS">G_BEGIN_DECLS</a></span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">_TagPageClass</span><span class="normal"> TagPageClass</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">_TagPage</span><span class="normal">      TagPage</span><span class="symbol">;</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">TAG_TYPE_PAGE</span><span class="normal">            </span><span class="symbol">(</span><span class="function">tag_page_get_type</span><span class="normal"> </span><span class="symbol">())</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">TAG_PAGE</span><span class="symbol">(</span><span class="normal">obj</span><span class="symbol">)</span><span class="normal">            </span><span class="symbol">(</span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#G-TYPE-CHECK-INSTANCE-CAST:CAPS">G_TYPE_CHECK_INSTANCE_CAST</a></span><span class="normal"> </span><span class="symbol">((</span><span class="normal">obj</span><span class="symbol">),</span><span class="normal"> TAG_TYPE_PAGE</span><span class="symbol">,</span><span class="normal"> TagPage</span><span class="symbol">))</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">TAG_PAGE_CLASS</span><span class="symbol">(</span><span class="normal">klass</span><span class="symbol">)</span><span class="normal">    </span><span class="symbol">(</span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#G-TYPE-CHECK-CLASS-CAST:CAPS">G_TYPE_CHECK_CLASS_CAST</a></span><span class="normal"> </span><span class="symbol">((</span><span class="normal">klass</span><span class="symbol">),</span><span class="normal"> TAG_TYPE_PAGE</span><span class="symbol">,</span><span class="normal"> TagPageClass</span><span class="symbol">))</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">TAG_IS_PAGE</span><span class="symbol">(</span><span class="normal">obj</span><span class="symbol">)</span><span class="normal">         </span><span class="symbol">(</span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#G-TYPE-CHECK-INSTANCE-TYPE:CAPS">G_TYPE_CHECK_INSTANCE_TYPE</a></span><span class="normal"> </span><span class="symbol">((</span><span class="normal">obj</span><span class="symbol">),</span><span class="normal"> TAG_TYPE_PAGE</span><span class="symbol">))</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">TAG_IS_PAGE_CLASS</span><span class="symbol">(</span><span class="normal">klass</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#G-TYPE-CHECK-CLASS-TYPE:CAPS">G_TYPE_CHECK_CLASS_TYPE</a></span><span class="normal"> </span><span class="symbol">((</span><span class="normal">klass</span><span class="symbol">),</span><span class="normal"> TAG_TYPE_PAGE</span><span class="symbol">))</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">TAG_PAGE_GET_CLASS</span><span class="symbol">(</span><span class="normal">obj</span><span class="symbol">)</span><span class="normal">  </span><span class="symbol">(</span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Type-Information.html#G-TYPE-INSTANCE-GET-CLASS:CAPS">G_TYPE_INSTANCE_GET_CLASS</a></span><span class="normal"> </span><span class="symbol">((</span><span class="normal">obj</span><span class="symbol">),</span><span class="normal"> TAG_TYPE_PAGE</span><span class="symbol">,</span><span class="normal"> TagPageClass</span><span class="symbol">))</span>
<span class="comment">/* these two functions are implemented automatically by the THUNARX_DEFINE_TYPE macro */</span>
<span class="usertype">GType</span><span class="normal">            </span><span class="function">tag_page_get_type</span><span class="normal">      </span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> <a href="http://library.gnome.org/devel/glib/unstable/glib-Miscellaneous-Macros.html#G-GNUC-CONST:CAPS">G_GNUC_CONST</a></span><span class="symbol">;</span>
<span class="type">void</span><span class="normal">             </span><span class="function">tag_page_register_type</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">ThunarxProviderPlugin</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">plugin</span><span class="symbol">);</span>
<span class="usertype">GtkWidget</span><span class="normal">       </span><span class="symbol">*</span><span class="function">tag_page_new</span><span class="normal">           </span><span class="symbol">(</span><span class="usertype">ThunarxFileInfo</span><span class="normal">       </span><span class="symbol">*</span><span class="normal">file</span><span class="symbol">)</span><span class="normal"> <a href="http://library.gnome.org/devel/glib/unstable/glib-Miscellaneous-Macros.html#G-GNUC-MALLOC:CAPS">G_GNUC_MALLOC</a></span><span class="symbol">;</span>
<span class="usertype">ThunarxFileInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="function">tag_page_get_file</span><span class="normal">      </span><span class="symbol">(</span><span class="usertype">TagPage</span><span class="normal">               </span><span class="symbol">*</span><span class="normal">tag_page</span><span class="symbol">);</span>
<span class="type">void</span><span class="normal">             </span><span class="function">tag_page_set_file</span><span class="normal">      </span><span class="symbol">(</span><span class="usertype">TagPage</span><span class="normal">               </span><span class="symbol">*</span><span class="normal">tag_page</span><span class="symbol">,</span>
<span class="normal">                                         </span><span class="usertype">ThunarxFileInfo</span><span class="normal">       </span><span class="symbol">*</span><span class="normal">file</span><span class="symbol">);</span>
<span class="normal"><a href="http://library.gnome.org/devel/glib/unstable/glib-Miscellaneous-Macros.html#G-END-DECLS:CAPS">G_END_DECLS</a></span><span class="symbol">;</span>
<span class="preproc">#</span><span class="normal">#endif </span><span class="comment">/* !__TAG_PAGE_H__ */</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
  And the <code class="filename">tag-page.c</code> source file could look like this:
</p>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="preproc">#</span><span class="normal">#include </span><span class="string">"tag-page.h"</span>
<span class="comment">/* Property identifiers */</span>
<span class="keyword">enum</span>
<span class="cbracket">{</span>
<span class="normal">  PROP_0</span><span class="symbol">,</span>
<span class="normal">  PROP_FILE</span><span class="symbol">,</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">tag_page_class_init</span><span class="normal">   </span><span class="symbol">(</span><span class="usertype">TagPageClass</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">klass</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">tag_page_init</span><span class="normal">         </span><span class="symbol">(</span><span class="usertype">TagPage</span><span class="normal">          </span><span class="symbol">*</span><span class="normal">tag_page</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">tag_page_finalize</span><span class="normal">     </span><span class="symbol">(</span><span class="usertype">GObject</span><span class="normal">          </span><span class="symbol">*</span><span class="normal">object</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">tag_page_get_property</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">GObject</span><span class="normal">          </span><span class="symbol">*</span><span class="normal">object</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="usertype">guint</span><span class="normal">             prop_id</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="usertype">GValue</span><span class="normal">           </span><span class="symbol">*</span><span class="normal">value</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="usertype">GParamSpec</span><span class="normal">       </span><span class="symbol">*</span><span class="normal">pspec</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">tag_page_set_property</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">GObject</span><span class="normal">          </span><span class="symbol">*</span><span class="normal">object</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="usertype">guint</span><span class="normal">             prop_id</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">GValue</span><span class="normal">     </span><span class="symbol">*</span><span class="normal">value</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="usertype">GParamSpec</span><span class="normal">       </span><span class="symbol">*</span><span class="normal">pspec</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">tag_page_file_changed</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">ThunarxFileInfo</span><span class="normal">  </span><span class="symbol">*</span><span class="normal">file</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="usertype">TagPage</span><span class="normal">          </span><span class="symbol">*</span><span class="normal">tag_page</span><span class="symbol">);</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">_TagPageClass</span>
<span class="cbracket">{</span>
<span class="normal">  ThunarxPropertyPageClass __parent__</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">_TagPage</span>
<span class="cbracket">{</span>
<span class="normal">  <a href="ThunarxPropertyPage.html">ThunarxPropertyPage</a> __parent__</span><span class="symbol">;</span>
<span class="normal">  </span><span class="usertype">ThunarxFileInfo</span><span class="normal">    </span><span class="symbol">*</span><span class="normal">file</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/* your widgets... */</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="comment">/* implements the tag_page_get_type() and tag_page_register_type() functions */</span>
<span class="function"><a href="ThunarxProviderPlugin.html#THUNARX-DEFINE-TYPE:CAPS">THUNARX_DEFINE_TYPE</a></span><span class="normal"> </span><span class="symbol">(</span><span class="normal">TagPage</span><span class="symbol">,</span><span class="normal"> tag_page</span><span class="symbol">,</span><span class="normal"> THUNARX_TYPE_PROPERTY_PAGE</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span>
<span class="function">tag_page_class_init</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">TagPageClass</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">klass</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">  </span><span class="usertype">GObjectClass</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">gobject_class</span><span class="symbol">;</span>
<span class="normal">  gobject_class </span><span class="symbol">=</span><span class="normal"> </span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#G-OBJECT-CLASS:CAPS">G_OBJECT_CLASS</a></span><span class="normal"> </span><span class="symbol">(</span><span class="normal">klass</span><span class="symbol">);</span>
<span class="normal">  gobject_class</span><span class="symbol">-&gt;</span><span class="normal">finalize </span><span class="symbol">=</span><span class="normal"> tag_page_finalize</span><span class="symbol">;</span>
<span class="normal">  gobject_class</span><span class="symbol">-&gt;</span><span class="normal">get_property </span><span class="symbol">=</span><span class="normal"> tag_page_get_property</span><span class="symbol">;</span>
<span class="normal">  gobject_class</span><span class="symbol">-&gt;</span><span class="normal">set_property </span><span class="symbol">=</span><span class="normal"> tag_page_set_property</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/**</span>
<span class="comment">   * TagPage:file:</span>
<span class="comment">   *</span>
<span class="comment">   * The </span><span class="keyword">&lt;a</span><span class="normal"> </span><span class="type">class</span><span class="symbol">=</span><span class="string">"link"</span><span class="normal"> </span><span class="type">href</span><span class="symbol">=</span><span class="string">"ThunarxFileInfo.html"</span><span class="normal"> </span><span class="type">title</span><span class="symbol">=</span><span class="string">"ThunarxFileInfo"</span><span class="keyword">&gt;</span><span class="comment">ThunarxFileInfo</span><span class="keyword">&lt;/a&gt;</span><span class="comment"> displayed by this </span><span class="keyword">&lt;GTKDOCLINK</span><span class="normal"> </span><span class="type">HREF</span><span class="symbol">=</span><span class="string">"TagPage"</span><span class="keyword">&gt;</span><span class="comment">TagPage</span><span class="keyword">&lt;/GTKDOCLINK&gt;</span><span class="comment">.</span>
<span class="comment">   **/</span>
<span class="normal">  </span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#g-object-class-install-property">g_object_class_install_property</a></span><span class="normal"> </span><span class="symbol">(</span><span class="normal">gobject_class</span><span class="symbol">,</span>
<span class="normal">                                   PROP_FILE</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="function"><a href="http://library.gnome.org/devel/gobject/unstable/gobject-Standard-Parameter-and-Value-Types.html#g-param-spec-object">g_param_spec_object</a></span><span class="normal"> </span><span class="symbol">(</span><span class="string">"file"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"file"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"file,</span>
<span class="string">                                                        THUNARX_TYPE_FILE_INFO,</span>
<span class="string">                                                        G_PARAM_READWRITE));</span>
<span class="string">}</span>
<span class="string">static void</span>
<span class="string">tag_page_init (TagPage *tag_page)</span>
<span class="string">{</span>
<span class="string">  GtkWidget *table;</span>
<span class="string">  /* you can of course also use a GtkVBox here, or whatever */</span>
<span class="string">  table = gtk_table_new (2, 2, FALSE);</span>
<span class="string">  gtk_container_add (GTK_CONTAINER (tag_page), table);</span>
<span class="string">  gtk_widget_show (table);</span>
<span class="string">  /* add your widgets to the table... */</span>
<span class="string">}</span>
<span class="string">static void</span>
<span class="string">tag_page_finalize (GObject *object)</span>
<span class="string">{</span>
<span class="string">  TagPage *tag_page = TAG_PAGE (object);</span>
<span class="string">  /* disconnect from the file */</span>
<span class="string">  tag_page_set_file (tag_page, NULL);</span>
<span class="string">  /* release any additional resources... */</span>
<span class="string">  (*G_OBJECT_CLASS (tag_page_parent_class)-&gt;finalize) (object);</span>
<span class="string">}</span>
<span class="string">static void</span>
<span class="string">tag_page_get_property (GObject    *object,</span>
<span class="string">                       guint       prop_id,</span>
<span class="string">                       GValue     *value,</span>
<span class="string">                       GParamSpec *pspec)</span>
<span class="string">{</span>
<span class="string">  TagPage *tag_page = TAG_PAGE (object);</span>
<span class="string">  switch (prop_id)</span>
<span class="string">    {</span>
<span class="string">    case PROP_FILE:</span>
<span class="string">      g_value_set_object (value, tag_page_get_file (tag_page));</span>
<span class="string">      break;</span>
<span class="string">    default:</span>
<span class="string">      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);</span>
<span class="string">      break;</span>
<span class="string">    }</span>
<span class="string">}</span>
<span class="string">static void</span>
<span class="string">tag_page_set_property (GObject      *object,</span>
<span class="string">                       guint         prop_id,</span>
<span class="string">                       const GValue *value,</span>
<span class="string">                       GParamSpec   *pspec)</span>
<span class="string">{</span>
<span class="string">  TagPage *tag_page = TAG_PAGE (object);</span>
<span class="string">  switch (prop_id)</span>
<span class="string">    {</span>
<span class="string">    case PROP_FILE:</span>
<span class="string">      tag_page_set_file (tag_page, g_value_get_object (value));</span>
<span class="string">      break;</span>
<span class="string">    default:</span>
<span class="string">      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);</span>
<span class="string">      break;</span>
<span class="string">    }</span>
<span class="string">}</span>
<span class="string">static void</span>
<span class="string">tag_page_file_changed (ThunarxFileInfo *file,</span>
<span class="string">                       TagPage         *tag_page)</span>
<span class="string">{</span>
<span class="string">  /* update your user interface elements in the tag_page</span>
<span class="string">   * to display the new state of the file...</span>
<span class="string">   */</span>
<span class="string">}</span>
<span class="string">GtkWidget*</span>
<span class="string">tag_page_new (ThunarxFileInfo *file)</span>
<span class="string">{</span>
<span class="string">  return g_object_new (TAG_TYPE_PAGE, "</span><span class="normal">file</span><span class="string">", file, NULL);</span>
<span class="string">}</span>
<span class="string">ThunarxFileInfo*</span>
<span class="string">tag_page_get_file (TagPage *tag_page)</span>
<span class="string">{</span>
<span class="string">  g_return_val_if_fail (TAG_IS_PAGE (tag_page), NULL);</span>
<span class="string">  return tag_page-&gt;file;</span>
<span class="string">}</span>
<span class="string">void</span>
<span class="string">tag_page_set_file (TagPage         *tag_page,</span>
<span class="string">                   ThunarxFileInfo *file)</span>
<span class="string">{</span>
<span class="string">  g_return_if_fail (TAG_IS_PAGE (tag_page));</span>
<span class="string">  g_return_if_fail (file == NULL || THUNARX_IS_FILE_INFO (file));</span>
<span class="string">  if (tag_page-&gt;file != NULL)</span>
<span class="string">    {</span>
<span class="string">      g_signal_handlers_disconnect_by_func (tag_page-&gt;file, tag_page_file_changed, tag_page);</span>
<span class="string">      g_object_unref (G_OBJECT (tag_page-&gt;file));</span>
<span class="string">    }</span>
<span class="string">  tag_page-&gt;file = file;</span>
<span class="string">  if (file != NULL)</span>
<span class="string">    {</span>
<span class="string">      g_object_ref (file);</span>
<span class="string">      tag_page_file_changed (file, tag_page);</span>
<span class="string">      g_signal_connect (file, "</span><span class="normal">changed</span><span class="string">", G_CALLBACK (tag_page_file_changed), tag_page);</span>
<span class="string">    }</span>
<span class="string">  g_object_notify (G_OBJECT (tag_page), "</span><span class="normal">file</span><span class="string">");</span>
<span class="string">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>
  If this seems to be too complicated to you, just don't follow the suggestion. But keep in mind, that
  while the above solution is a little longer than a less structured solution, it yields great flexbility
  and maintainability. For example the <span class="type">TagPage</span> class described above, once filled with user interface
  elements, may be used for a standalone MP3-Tag editor out of the box (i.e. as an action returned from
  the <a class="link" href="ThunarxRenamer.html#thunarx-renamer-get-actions" title="thunarx_renamer_get_actions ()"><code class="function">thunarx_renamer_get_actions()</code></a> method).
</p>
<p>
  What is important to remember is that you should connect to the <code class="literal">"changed"</code> signal
  of the <a class="link" href="ThunarxFileInfo.html" title="ThunarxFileInfo"><span class="type">ThunarxFileInfo</span></a>s you are displaying, and update the user interface whenever the file
  changes.
</p>
</div>
<div class="refsect1" title="Details">
<a name="ThunarxPropertyPage.details"></a><h2>Details</h2>
<div class="refsect2" title="ThunarxPropertyPage">
<a name="ThunarxPropertyPage-struct"></a><h3>ThunarxPropertyPage</h3>
<pre class="programlisting">typedef struct _ThunarxPropertyPage ThunarxPropertyPage;</pre>
<p>
  Base instance type for property pages.
</p>
</div>
<hr>
<div class="refsect2" title="thunarx_property_page_new ()">
<a name="thunarx-property-page-new"></a><h3>thunarx_property_page_new ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *         thunarx_property_page_new           (<em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *label</code></em>);</pre>
<p>
Allocates a new <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> widget and sets its label to the
specified <em class="parameter"><code>label</code></em>. If <em class="parameter"><code>label</code></em> is <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, the label is omitted.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>label</code></em> :</span></p></td>
<td>the text to use as the label of the page.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the newly allocated <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>
              widget.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="thunarx_property_page_new_with_label_widget ()">
<a name="thunarx-property-page-new-with-label-widget"></a><h3>thunarx_property_page_new_with_label_widget ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *         thunarx_property_page_new_with_label_widget
                                                        (<em class="parameter"><code><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a> *label_widget</code></em>);</pre>
<p>
Allocates a new <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> widget and sets its label to
the specified <em class="parameter"><code>label_widget</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>label_widget</code></em> :</span></p></td>
<td>a <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a>, which should be used as label.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the newly allocated <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> widget.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="thunarx_property_page_get_label ()">
<a name="thunarx-property-page-get-label"></a><h3>thunarx_property_page_get_label ()</h3>
<pre class="programlisting">const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="returnvalue">gchar</span></a> *       thunarx_property_page_get_label     (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>);</pre>
<p>
If the <em class="parameter"><code>property_page</code></em>'s label widget is a <a href="http://library.gnome.org/devel/gtk/unstable/GtkLabel.html"><span class="type">GtkLabel</span></a>, returns the text
in the label widget (the <em class="parameter"><code>property_page</code></em> will have a <a href="http://library.gnome.org/devel/gtk/unstable/GtkLabel.html"><span class="type">GtkLabel</span></a> for the
label widget if a non-<a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> argument was passed to <a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-new" title="thunarx_property_page_new ()"><code class="function">thunarx_property_page_new()</code></a>).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>property_page</code></em> :</span></p></td>
<td>a <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the text in the label or <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if there was no label widget or
              the label widget was not a <a href="http://library.gnome.org/devel/gtk/unstable/GtkLabel.html"><span class="type">GtkLabel</span></a>. The returned string is
              owned by the <em class="parameter"><code>property_page</code></em> and must not be modified or freed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="thunarx_property_page_set_label ()">
<a name="thunarx-property-page-set-label"></a><h3>thunarx_property_page_set_label ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                thunarx_property_page_set_label     (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>,
                                                         <em class="parameter"><code>const <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *label</code></em>);</pre>
<p>
Sets the text of the label. If <em class="parameter"><code>label</code></em> is <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, the current label is
removed.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>property_page</code></em> :</span></p></td>
<td>a <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>label</code></em> :</span></p></td>
<td>the text to use as the label of the page.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="thunarx_property_page_get_label_widget ()">
<a name="thunarx-property-page-get-label-widget"></a><h3>thunarx_property_page_get_label_widget ()</h3>
<pre class="programlisting"><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="returnvalue">GtkWidget</span></a> *         thunarx_property_page_get_label_widget
                                                        (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>);</pre>
<p>
Returns the label widget for the <em class="parameter"><code>property_page</code></em>. See
<a class="link" href="ThunarxPropertyPage.html#thunarx-property-page-set-label-widget" title="thunarx_property_page_set_label_widget ()"><code class="function">thunarx_property_page_set_label_widget()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>property_page</code></em> :</span></p></td>
<td>a <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the label widget or <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if there is none.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="thunarx_property_page_set_label_widget ()">
<a name="thunarx-property-page-set-label-widget"></a><h3>thunarx_property_page_set_label_widget ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                thunarx_property_page_set_label_widget
                                                        (<em class="parameter"><code><a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a> *property_page</code></em>,
                                                         <em class="parameter"><code><a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a> *label_widget</code></em>);</pre>
<p>
Sets the label widget for the <em class="parameter"><code>property_page</code></em>. This is the widget
that will appear in the notebook header for the <em class="parameter"><code>property_page</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>property_page</code></em> :</span></p></td>
<td>a <a class="link" href="ThunarxPropertyPage.html" title="ThunarxPropertyPage"><span class="type">ThunarxPropertyPage</span></a>.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>label_widget</code></em> :</span></p></td>
<td>the new label widget.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" title="Property Details">
<a name="ThunarxPropertyPage.property-details"></a><h2>Property Details</h2>
<div class="refsect2" title='The "label" property'>
<a name="ThunarxPropertyPage--label"></a><h3>The <code class="literal">"label"</code> property</h3>
<pre class="programlisting">  "label"                    <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>*                : Read / Write</pre>
<p>Text of the page's label.</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" title='The "label-widget" property'>
<a name="ThunarxPropertyPage--label-widget"></a><h3>The <code class="literal">"label-widget"</code> property</h3>
<pre class="programlisting">  "label-widget"             <a href="http://library.gnome.org/devel/gtk/unstable/GtkWidget.html"><span class="type">GtkWidget</span></a>*            : Read / Write</pre>
<p>A widget to display in place of the usual page label.</p>
</div>
</div>
<div class="refsect1" title="See Also">
<a name="ThunarxPropertyPage.see-also"></a><h2>See Also</h2>
<p>
  The description of the <a class="link" href="ThunarxPropertyPageProvider.html" title="ThunarxPropertyPageProvider"><span class="type">ThunarxPropertyPageProvider</span></a> interface.
</p>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>